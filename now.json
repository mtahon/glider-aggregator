{
    "version": 2,
    "builds": [
        {
            "src": "api/docs/index.html",
            "use": "@now/static"
        },
        {
            "src": "admin/docs/index.html",
            "use": "@now/static"
        },
        {
            "src": "api/**/*.js",
            "use": "@now/node",
            "config": {
                "includeFiles": "node_modules/camaro/dist/camaro.wasm"
            }
        },
        {
            "src": "admin/**/*.js",
            "use": "@now/node"
        },
        {
            "src": "public/**",
            "use": "@now/static"
        }
    ],
    "rewrites": [
        {
            "source": "/api/v1/orders/(.*)/fulfill",
            "destination": "/api/v1/orders/[orderId]/fulfill.js?orderId=$1"
        },
        {
            "source": "/api/v1/(.*)",
            "destination": "/api/v1/$1.js"
        },
        {
            "source": "/api/docs/(.*)",
            "destination": "public/$1"
        },
        {
            "source": "/admin/v1/config/limits/(.*)",
            "destination": "/admin/v1/config/limits.js?apiEndpoint=$1"
        },
        {
            "source": "/admin/v1/orglist/(.*)",
            "destination": "/admin/v1/orglist/index.js?listName=$1"
        },
        {
            "source": "/admin/v1/hotels/search",
            "destination": "/admin/v1/hotels/search.js"
        },
        {
            "source": "/admin/v1/hotels/(.*)",
            "destination": "/admin/v1/hotels/index.js?hotelId=$1"
        },
        {
            "source": "/admin/v1/hotels",
            "destination": "/admin/v1/hotels/index.js"
        },
        {
            "source": "/admin/v1/(.*)",
            "destination": "/admin/v1/$1.js"
        },
        {
            "source": "/admin/docs/(.*)",
            "destination": "public/$1"
        },
        {
            "source": "/oauth2-redirect.html",
            "destination": "public/oauth2-redirect.html"
        }
    ],
    "redirects": [
        {
            "source": "/",
            "destination": "/api/docs/"
        },
        {
            "source": "/api/docs",
            "destination": "/api/docs/"
        },
        {
            "source": "/admin",
            "destination": "/admin/docs/"
        },
        {
            "source": "/admin/docs",
            "destination": "/admin/docs/"
        }
    ],
    "env": {
        "AF_API_KEY": "@af_api_key",
        "AF_COMISSION": "@af_comission",
        "AF_SENDER_NAME": "@af_sender_name",
        "AF_SENDER_PSEUDOCITY": "@af_sender_pseudocity",
        "AF_SENDER_IATA_NUMBER": "@af_sender_iata_number",
        "AF_SENDER_AGENCY_ID": "@af_sender_agency_id",
        "AF_SENDER_AGENT_USER_ID": "@af_sender_agent_user_id",
        "AF_PARTICIPANT_ENABLED_SYSTEM_PARTICIPANT_SEQUENCE_NUMBER": "@af_participant_enabled_system_participant_sequence_number",
        "AF_PARTICIPANT_ENABLED_SYSTEM_PARTICIPANT_NAME": "@af_participant_enabled_system_participant_name",
        "AF_PARTICIPANT_ENABLED_SYSTEM_PARTICIPANT_SYSTEM_ID": "@af_participant_enabled_system_participant_system_id",
        "AF_PARTICIPANT_RECIPENT_AIRLINE_ID": "@af_participant_recipent_airline_id",
        "AF_PARTICIPANT_RECIPENT_NAME": "@af_participant_recipent_name",
        
        "AC_API_KEY": "@ac_api_key",
        "AC_PARTICIPANT_RECIPENT_AIRLINE_ID": "@ac_participant_recipent_airline_id",
        "AC_POINT_OF_SALE_DEVICE_CODE": "@ac_participant_recipent_name",
        "AC_DOCUMENT_ID": "@ac_document_id",
        "AC_DOCUMENT_NAME": "@ac_document_name",
        "AC_DOCUMENT_REFERENCE_VERSION": "@ac_document_reference_version",
        "AC_PARTICIPANT_ENABLED_SYSTEM_PARTICIPANT_SEQUENCE_NUMBER": "@ac_participant_enabled_system_participant_sequence_number",
        "AC_PARTICIPANT_ENABLED_SYSTEM_PARTICIPANT_NAME": "@ac_participant_enabled_system_participant_name",
        "AC_PARTICIPANT_ENABLED_SYSTEM_PARTICIPANT_CATEGORY": "@ac_participant_enabled_system_participant_category",
        "AC_PARTICIPANT_ENABLED_SYSTEM_PARTICIPANT_SYSTEM_ID_OWNER": "@ac_participant_enabled_system_participant_system_id_owner",
        "AC_PARTICIPANT_ENABLED_SYSTEM_PARTICIPANT_SYSTEM_ID": "@ac_participant_enabled_system_participant_system_id",

        "JWT": "@staging.glider-aggregator.jwt",
        "REDIS_URL": "@staging.glider-aggregator.redis_url",
        "MONGO_URL": "@staging.glider-aggregator.mongo_url",
        "ELASTIC_URL": "@staging.glider-aggregator.elastic_url",
        "EREVMAX_RESERVATION_URL": "@staging.glider-aggregator.erevmax_reservation_url",
        "EREVMAX_AVAILABILITY_URL": "@staging.glider-aggregator.erevmax_availability_url",
        "INFURA_ENDPOINT": "@infura_wss_endpoint",
        "INFURA_PROJECT_ID": "@infura_project_id",
        "GLIDER_ORGID": "@ropsten.glider-aggregator.orgid",
        "GLIDER_ADMIN_KEY": "@staging.glider-aggregator.admin-key",
        "LIF_MIN_DEPOSIT": "@staging.glider-aggregator.lif_deposit",
        "SIMARD_URL": "@staging.glider-aggregator.simard_api_endpoint"
    }
}